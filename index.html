<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PRONIED - Control de Compromisos PCM</title>
    
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@700;800;900&family=Roboto:wght@300;400;500;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <style>
        /* --- CONFIGURACIÓN DE VARIABLES --- */
        :root {
            --primary-red: #C51118; 
            --dark-bg: #1A1A1B;
            --sidebar-width: 280px;
            --sidebar-mobile-width: 70px;
            --gray-light: #F4F7F9;
            --sharepoint-blue: #0078D4; /* Color oficial SharePoint para resaltar */
            
            /* Colores de Semáforo */
            --color-cumplido: #1E7E34;
            --color-actualizar: #D39E00;
            --color-pendiente: #BD2130;
            --color-na: #00AEEF;
        }

        /* --- ESTILOS BASE --- */
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { 
            font-family: 'Roboto', sans-serif; 
            background-color: var(--gray-light); 
            display: flex; 
            color: #333;
            min-height: 100vh;
        }

        /* --- SIDEBAR REFORZADO --- */
        .sidebar { 
            width: var(--sidebar-width); 
            background: var(--dark-bg); 
            min-height: 100vh; 
            position: fixed; 
            left: 0;
            top: 0;
            border-right: 5px solid var(--primary-red);
            z-index: 1000;
            transition: all 0.3s ease-in-out;
        }

        .sidebar-header {
            padding: 40px 20px;
            background: var(--primary-red);
            text-align: center;
            clip-path: polygon(0 0, 100% 0, 100% 85%, 0 100%);
        }

        .sidebar-header h2 { 
            color: white; 
            font-family: 'Montserrat'; 
            font-weight: 900; 
            font-size: 20px; 
            letter-spacing: 1px; 
        }

        .nav-menu { padding: 30px 10px; }
        
        .nav-link {
            display: flex;
            align-items: center;
            padding: 15px 18px;
            color: #C0C0C0;
            text-decoration: none;
            font-weight: 700;
            font-size: 13px;
            border-radius: 8px;
            margin-bottom: 12px;
            transition: all 0.3s;
            position: relative;
        }

        .nav-link i { 
            margin-right: 12px; 
            font-size: 20px; 
            width: 30px; 
            text-align: center; 
        }

        .nav-link:hover {
            background: rgba(255,255,255,0.1);
            color: white;
        }

        .nav-link.active { 
            background: var(--primary-red); 
            color: white; 
            box-shadow: 0 4px 12px rgba(197, 17, 24, 0.4);
        }

        /* Resaltado especial para SharePoint */
        .nav-link.sharepoint-link {
            border: 1px solid rgba(0, 120, 212, 0.3);
        }
        .nav-link.sharepoint-link:hover {
            background: var(--sharepoint-blue);
            border-color: var(--sharepoint-blue);
        }

        /* --- CUERPO PRINCIPAL --- */
        .main-wrapper { 
            margin-left: var(--sidebar-width); 
            width: calc(100% - var(--sidebar-width)); 
            padding: 40px; 
            transition: all 0.3s ease;
        }

        .header-web {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 35px;
            border-bottom: 2px solid #DDD;
            padding-bottom: 20px;
            flex-wrap: wrap;
            gap: 15px;
        }

        .header-web h1 { 
            font-family: 'Montserrat'; 
            font-weight: 900; 
            font-size: 28px; 
            color: var(--dark-bg); 
        }

        .btn-pdf {
            background: var(--dark-bg);
            color: white;
            padding: 12px 25px;
            border-radius: 6px;
            border: none;
            font-weight: 800;
            cursor: pointer;
            display: flex;
            align-items: center;
            gap: 10px;
            text-transform: uppercase;
            font-size: 11px;
            transition: 0.3s;
        }

        /* --- MÉTRICAS --- */
        .metrics-container {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(180px, 1fr));
            gap: 20px;
            margin-bottom: 40px;
        }

        .metric-card {
            background: white;
            padding: 25px;
            border-radius: 12px;
            text-align: center;
            box-shadow: 0 4px 10px rgba(0,0,0,0.05);
            border-top: 5px solid #DDD;
        }

        .metric-card h4 { font-size: 32px; font-family: 'Montserrat'; font-weight: 900; }
        .metric-card p { font-size: 10px; font-weight: 800; color: #777; text-transform: uppercase; margin-top: 5px; }
        
        .m-cumplido { border-top-color: var(--color-cumplido); color: var(--color-cumplido); }
        .m-actualizar { border-top-color: var(--color-actualizar); color: var(--color-actualizar); }
        .m-pendiente { border-top-color: var(--color-pendiente); color: var(--color-pendiente); }
        .m-na { border-top-color: var(--color-na); color: var(--color-na); }

        /* --- TABLA RESPONSIVE --- */
        .table-box { 
            background: white; 
            border-radius: 15px; 
            overflow: hidden; 
            box-shadow: 0 10px 30px rgba(0,0,0,0.05); 
            border: 1px solid #EEE; 
        }

        .table-scroll {
            width: 100%;
            overflow-x: auto; /* Scroll horizontal en móvil */
        }

        table { 
            width: 100%; 
            border-collapse: collapse; 
            min-width: 950px; /* Evita el colapso de celdas */
        }

        thead th { 
            background: var(--dark-bg); 
            color: white; 
            padding: 20px; 
            text-align: left; 
            font-size: 11px; 
            text-transform: uppercase; 
            border-bottom: 4px solid var(--primary-red); 
        }

        tbody td { 
            padding: 18px 20px; 
            border-bottom: 1px solid #EEE; 
            vertical-align: top; 
            font-size: 12px; 
            line-height: 1.5; 
        }

        .col-num { 
            width: 65px; 
            text-align: center; 
            font-weight: 900; 
            color: var(--primary-red); 
        }

        .badge {
            padding: 6px 12px;
            border-radius: 4px;
            font-size: 10px;
            font-weight: 800;
            display: inline-block;
            min-width: 110px;
            text-align: center;
            text-transform: uppercase;
        }
        .status-cumplido { background: #E6F4EA; color: var(--color-cumplido); border: 1px solid var(--color-cumplido); }
        .status-actualizar { background: #FFF9E6; color: var(--color-actualizar); border: 1px solid var(--color-actualizar); }
        .status-pendiente { background: #FDF2F2; color: var(--color-pendiente); border: 1px solid var(--color-pendiente); }
        .status-na { background: #E1F5FE; color: var(--color-na); border: 1px solid var(--color-na); }

        /* --- MEDIA QUERIES PARA MÓVIL (CORRECCIÓN SHAREPOINT) --- */
        @media (max-width: 992px) {
            .sidebar { 
                width: var(--sidebar-mobile-width); 
            }
            .sidebar-header h2, .nav-link span { 
                display: none; /* Esconde texto pero mantiene iconos */
            }
            .nav-link { 
                justify-content: center; 
                padding: 15px 0; 
            }
            .nav-link i { margin-right: 0; font-size: 22px; }
            .main-wrapper { 
                margin-left: var(--sidebar-mobile-width); 
                width: calc(100% - var(--sidebar-mobile-width)); 
                padding: 20px; 
            }
        }

        @media (max-width: 600px) {
            .header-web h1 { font-size: 20px; }
            .btn-pdf { width: 100%; justify-content: center; }
        }

        /* --- CONFIGURACIÓN DE IMPRESIÓN --- */
        #header-pdf { display: none; }
        @media print {
            .sidebar, .header-web, .metrics-container, .btn-pdf { display: none !important; }
            .main-wrapper { margin: 0; width: 100%; padding: 0 !important; }
            #header-pdf { display: block; text-align: center; border-bottom: 4px solid var(--primary-red); padding-bottom: 15px; margin-bottom: 25px; }
            table { min-width: 100%; }
            .footer-date-print { display: block !important; position: fixed; bottom: 0; right: 0; font-size: 9px; font-weight: bold; }
        }
        .footer-date-print { display: none; }
    </style>
</head>
<body>

    <aside class="sidebar">
        <div class="sidebar-header">
            <h2>PRONIED</h2>
        </div>
        <nav class="nav-menu">
            <a href="#" class="nav-link active">
                <i class="fas fa-tasks"></i> 
                <span>COMPROMISOS PCM</span>
            </a>
            <a href="https://proniedoti.sharepoint.com/:f:/s/OTI/IgABZUkLjJ-FRbi6gUzL5Z52ARDu8W45d1vBpdVzblWI2bg?e=xO4GXn" 
               target="_blank" 
               class="nav-link sharepoint-link" 
               title="Recursos OTI SharePoint">
                <i class="fas fa-folder-open"></i> 
                <span>RECURSOS OTI</span>
            </a>
        </nav>
    </aside>

    <main class="main-wrapper">
        <div id="header-pdf">
            <h1>PROGRAMA NACIONAL DE INFRAESTRUCTURA EDUCATIVA</h1>
            <h2>SEGUIMIENTO DE COMPROMISOS GOBIERNO DIGITAL PCM</h2>
        </div>

        <header class="header-web">
            <h1>Gestión de Compromisos</h1>
            <button class="btn-pdf" onclick="window.print()">
                <i class="fas fa-file-pdf"></i> Imprimir Reporte
            </button>
        </header>

        <section class="metrics-container">
            <div class="metric-card m-cumplido"><h4>12</h4><p>Cumplidos</p></div>
            <div class="metric-card m-actualizar"><h4>2</h4><p>Por Actualizar</p></div>
            <div class="metric-card m-pendiente"><h4>3</h4><p>Pendientes</p></div>
            <div class="metric-card m-na"><h4>1</h4><p>No Aplica</p></div>
            <div class="metric-card" style="background:#1A1A1B; color:white;"><h4>18</h4><p>Total</p></div>
        </section>

        <div class="table-box">
            <div class="table-scroll">
                <table>
                    <thead>
                        <tr>
                            <th class="col-num">N°</th>
                            <th style="width: 35%;">Compromiso Técnico / Base Normativa</th>
                            <th style="width: 25%;">Consideraciones / Evidencia</th>
                            <th style="width: 130px; text-align: center;">Estado</th>
                            <th>Columna de Observaciones</th>
                        </tr>
                    </thead>
                    <tbody id="dataTable"></tbody>
                </table>
            </div>
        </div>

        <div class="footer-date-print" id="datePrint"></div>
    </main>

    <script>
        const DATA = [
            { n: 1, t: "Incorporar en su Plan Estratégico Institucional el objetivo estratégico de Transformación Digital en cumplimiento del Decreto Supremo N° 029-2021-PCM.", c: "Se remitió la consulta al Especialista Antonio Vigo de la Secretaria y gobierno digital respecto al cumplimiento del compromiso.", s: "CUMPLIDO", st: "status-cumplido", o: "Incorporado y validado en el Plan Estratégico Institucional vigente." },
            { n: 2, t: "Designar al Líder de Gobierno Digital, en cumplimiento al Decreto Supremo N°033-2018-PCM y la Resolución de Secretaría de Gobierno Digital N°004-2018-PCM/SEGDI.", c: "Tener en cuenta ante una nueva designación del Líder de Gobierno Digital, se debe registrar en el Portal FACILITA.", s: "POR ACTUALIZAR", st: "status-actualizar", o: "Se reportó para su evaluación y designación formal ante la Alta Dirección." },
            { n: 3, t: "Constituir el Comité de Gobierno y Transformación Digital en cumplimiento de la Resolución Ministerial N° 119-2018-PCM y la Resolución Ministerial N° 087-2019-PCM.", c: "Tener en cuenta ante una nueva restructuración del Comité de Gobierno Digital, se debe registrar en el Portal FACILITA.", s: "CUMPLIDO", st: "status-cumplido", o: "Comité constituido y con sesiones de seguimiento activas." },
            { n: 4, t: "Elaborar y aprobar su Plan de Gobierno Digital alineado al Plan Estratégico Institucional y coordinado con el Plan Operativo Institucional.", c: "Actualizar el Plan de Gobierno y Transformación Digital anualmente.", s: "CUMPLIDO", st: "status-cumplido", o: "Se formuló y completó satisfactoriamente el Plan de Gobierno Digital." },
            { n: 5, t: "Incorporar su página web a la Plataforma Digital Única del Estado Peruano para Orientación al Ciudadano GOB.PE.", c: "Se ha actualizado el acceso de las aplicaciones a través del portal institucional gob.pe.", s: "CUMPLIDO", st: "status-cumplido", o: "Incorporado plenamente en GOB.PE; servicios digitales integrados." },
            { n: 6, t: "Desplegar el Modelo de Gestión Documental (MGD) en cumplimiento al artículo 8 del Decreto Legislativo No 1310.", c: "Se tiene implementado el sistema de gestión documental MGD en cumplimiento al DL N°1310.", s: "CUMPLIDO", st: "status-cumplido", o: "Actualmente se cuenta con un módulo de gestión documental operativo." },
            { n: 7, t: "Implementar el equipo de respuestas ante incidentes de seguridad digital (CSIRT).", c: "Servicio prestado por la Secretaria de Gobierno Digital a través de CSIRT VIRTUAL.", s: "CUMPLIDO", st: "status-cumplido", o: "Actualmente se cuenta con el equipo CSIRT reportado y activo." },
            { n: 8, t: "Publicar Datos Abiertos en la Plataforma Nacional de Datos Abiertos.", c: "Considerar incluir nuevos data set de las diferentes Unidades Funcionales del PRONIED.", s: "CUMPLIDO", st: "status-cumplido", o: "Se completó satisfactoriamente la publicación de datos abiertos." },
            { n: 9, t: "Incorporar la información territorial a la Plataforma Digital Georreferenciada del Estado.", c: "Información requerida para la integración con la IDEP nacional.", s: "PENDIENTE", st: "status-pendiente", o: "En etapa de recolección de información técnica de infraestructura." },
            { n: 10, t: "Lanzar la estrategia digital de la entidad con los servidores públicos internos y medios de difusión externos.", c: "Actividades de difusión interna y externa programadas.", s: "PENDIENTE", st: "status-pendiente", o: "En proceso de formulación para ejecución en el siguiente trimestre." },
            { n: 11, t: "Designación del Oficial de Seguridad y Confianza Digital.", c: "Tener en cuenta ante una nueva designación del Oficial de Seguridad Digital, se debe registrar en el Portal FACILITA.", s: "POR ACTUALIZAR", st: "status-actualizar", o: "Se está evaluando el perfil por parte de la DE y URH para su designación." },
            { n: 12, t: "Implementación del Sistema de Gestión de Seguridad de la Información (SGSI).", c: "Aprobar el plan de implementación de Seguridad de la Información e iniciar su ejecución.", s: "CUMPLIDO", st: "status-cumplido", o: "Se aprobó el plan del SGSI y está en fase de ejecución de controles." },
            { n: 13, t: "Designación del Funcionario Responsable del Software Público y Obligatoriedad de compartir Software.", c: "Registro de aplicaciones institucionales ante la SEGDI.", s: "CUMPLIDO", st: "status-cumplido", o: "Designación vigente y notificada a las instancias correspondientes." },
            { n: 14, t: "Formulación del Plan de Transición al Protocolo IPV6.", c: "Coordinar con Infraestructura OTI a fin de iniciar la formulación del Plan de Transición.", s: "PENDIENTE", st: "status-pendiente", o: "El plan de IPv6 está actualmente en proceso de validación técnica." },
            { n: 15, t: "Disponer de una mesa de partes digital.", c: "Plataforma operativa para recepción documental digital.", s: "CUMPLIDO", st: "status-cumplido", o: "Actualmente se cuenta con una mesa de partes virtual operativa." },
            { n: 16, t: "Publicar la información del TUPA en la Plataforma Digital GOB.PE.", c: "Actividad dependiente del Ministerio de Educación.", s: "NO APLICA", st: "status-na", o: "No aplica según la estructura jerárquica del sector educación." },
            { n: 17, t: "Cumplir con la Encuesta Nacional de Activos Digitales del Estado (ENRIAP).", c: "Actividad requerida anualmente para el registro de activos TI.", s: "CUMPLIDO", st: "status-cumplido", o: "Reporte anual de activos completado y enviado exitosamente." },
            { n: 18, t: "Publicar y consumir servicios de la PIDE.", c: "Los servicios del PRONIED consumen servicios transversales a través de la PIDE.", s: "CUMPLIDO", st: "status-cumplido", o: "Se cuenta con la PIDE; está actualmente en proceso de validación técnica." }
        ];

        function load() {
            const table = document.getElementById('dataTable');
            let content = "";
            DATA.forEach(item => {
                content += `
                    <tr>
                        <td class="col-num">${item.n}</td>
                        <td style="font-weight:700; color:#111;">${item.t}</td>
                        <td style="font-size:11px; color:#555; font-style:italic;">${item.c}</td>
                        <td style="text-align:center;"><span class="badge ${item.st}">${item.s}</span></td>
                        <td>${item.o}</td>
                    </tr>
                `;
            });
            table.innerHTML = content;
            const hoy = new Date();
            document.getElementById('datePrint').innerText = "ACTUALIZADO AL: " + hoy.toLocaleDateString('es-PE', {day:'2-digit', month:'long', year:'numeric'}).toUpperCase();
        }
        window.onload = load;
    </script>
</body>
</html>